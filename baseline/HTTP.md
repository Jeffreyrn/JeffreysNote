## HTTP状态码

(x越大 重要性越轻微)

### 10x 临时响应

- 100 继续
- 101 切换协议

### 20x 成功

- 200 (from cache) 成功 服务器已经成功处理了请求
- 201 已创建 请求成功并且服务器创建了新的资源
- 202 已连接 服务器已接受请求，但尚未处理
- 204 无内容

### 30x 重定向

- 301 代表永久性转移(Permanently Moved)
- 302 代表暂时性转移(Temporarily Moved )
- 304 未修改

### 40x 请求错误

- 403 禁止 forbidden  服务器拒绝请求
- 404 未找到  服务器找不到请求的网页

### 5xx 服务器错误

- 500 服务器内部错误  服务器遇到错误，无法完成请求
- 501 尚未实施 服务器不具备完成请求的功能。如服务器无法识别请求方法时可能会返回此代码
- 502 错误网关  服务器作为网关或代理，从上游服务器无法收到无效响应
- 503 服务器不可用  服务器目前无法使用（由于超载或者停机维护）。通常，这只是暂时状态
- 504 网关超时  服务器作为网关代理，但是没有及时从上游服务器收到请求
- 505 HTTP版本不受支持  服务器不支持请求中所用的HTTP协议版本

参考

<https://blog.csdn.net/u014346301/article/details/53995333>

## HTTP 缓存

### 客户端决定是否向服务器发送请求

- pragma
- expire
- cache-control

### 客户端与服务器之间的缓存文件验证

[必要性]客户端上某个资源保存的缓存时间过期了，但这时候其实服务器并没有更新过这个资源，如果这个资源数据量很大，客户端要求服务器再把这个东西重新发一遍过来，浪费带宽和时间

- last-modified 一个资源被修改了，但其实际内容根本没发生改变，会因为Last-Modified时间匹配不上而返回了整个实体给客户端
- Etag 服务器会通过某种算法，给资源计算得出一个唯一标志符（比如md5标志），在把资源响应给客户端的时候，会在实体首部加上“ETag: 唯一标识符”一起返回给客户端

服务器会通过某种算法，给资源计算得出一个唯一标志符（比如md5标志），在把资源响应给客户端的时候，会在实体首部加上“ETag: 唯一标识符”一起返回给客户端。

客户端会保留该 ETag 字段，并在下一次请求时将其一并带过去给服务器。服务器只需要比较客户端传来的ETag跟自己服务器上该资源的ETag是否一致，就能很好地判断资源相对客户端而言是否被修改过了。

如果服务器发现ETag匹配不上，那么直接以常规GET 200回包形式将新的资源（当然也包括了新的ETag）发给客户端；如果ETag是一致的，则直接返回304知会客户端直接使用本地缓存即可。

参考

<http://www.cnblogs.com/vajoy/p/5341664.html>